<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ako naplánovať cestu autom cez Dijkstrov algoritmus | robonovotny</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="http://novotnyr.github.io/asciidoctor.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body);
        });
    </script>

<header>

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <nav>
    <ul>
      
      
      <li class="pull-left ">
        <a href="http://novotnyr.github.io/">/home/robonovotny</a>
      </li>
      

      

    </ul>
  </nav>
</header>

  </head>

  <body>
    <br/>

<div class="article-meta">
<h1><span class="title">Ako naplánovať cestu autom cez Dijkstrov algoritmus</span></h1>

<h2 class="date">2008/06/01</h2>
<p class="terms">
  
  
  
  
  
</p>
</div>



<main>


<h1 id="cestujeme-na-východ">Cestujeme na východ</h1>

<p>Predstavte si, že vás ktosi prinútil odcestovať na obchodné rokovanie z Bratislavy do Košíc a ste nútení na to použiť auto. Aby ste znížili náklady, budete chcieť asi nájsť optimálnu cestu — pre jednoduchosť predpokladajme, že je to najkratšia cesta. Na to použijete asi klasický autoatlas Slovenskej republiky, v ktorom si cestu vypočítate sami. Ako druhú možnosť môžete použiť niektorý z existujúcich internetových plánovačov ciest, ktoré vám cestu vypočítajú samé.</p>

<p>Ako vlastne fungujú takého vyhľadávače? Alebo ako by ste našli optimálnu cestu ručne?</p>

<p>Pre jednoduchosť budeme narábať so zjednodušenou mapou Slovenska, ktorá nemusí celkom zodpovedať realite. (Pre jednoduchosť udávame vzdialenosti v desiatkach kilometrov.)</p>

<p><img src="dijkstra-krok0.png" alt="" /></p>

<h1 id="grafy-na-pomoc">Grafy na pomoc!</h1>

<p>Podobne ako v prípade hľadania minimálnej kostry hneď uvidíme v mape Slovenska <em>grafovú štruktúru</em>. Jednotlivé mestá (ovály) zodpovedajú <em>uzlom</em> a čiary natiahnuté medzi nimi <em>hranám</em>. Tento graf je ohodnotený (keďže hrany majú váhy zodpovedajúce vzdialenostiam medzi uzlami) a neorientovaný (čiara medzi Bratislavou a Trnavou znamená, že sa vieme dostať aj jedným aj druhým smerom).</p>

<p>V tomto prípade sa snažíme dostať z Bratislavy do Košíc tak, aby sme prechádzali po najkratších čiarach.</p>

<p>Jedným z optimálnych riešení je napríklad cesta Bratislava→Banská Bystrica→Košice dĺžky 47.</p>

<p>Ako sme na to prišli?</p>

<h1 id="dijkstrov-algoritmus">Dijkstrov algoritmus</h1>

<p>V tomto prípade sa snažíme nájsť <em>najkratšiu cestu</em> v neorientovanom ohodnotenom grafe s nezápornými ohodnoteniami hrán. Asi najznámejším algoritmom na túto úlohu je <strong>Dijkstrov algoritmus</strong> z roku 1959.</p>

<p>Edgser W. Dijkstra bol povestný holandský <del>fyzik</del>/<del>matematik</del>/informatik. Je iróniou, že originálny článok s týmto problémom má len niečo nad jednu stranu :-)</p>

<p>Keby sme algoritmus nepoznali, možno by nám napadla prvá vec: a to ísť stále po najkratších hranách. Podľa toho by sme najprv došli z Bratislavy do Trnavy (50 km), potom do Nitry (50 km, spolu už 100 km), lenže&hellip; už by sme narazili. Z Bratislavy do Nitry sa dá totiž dostať priamo a to 90 km priamou cestou. Vidieť teda, že takýto <em>pažravý</em> spôsob sa dlhodobo nevypláca.</p>

<p>Dijkstrov algoritmus týmto problémom predchádza. Postavený je na nasledovných ideách:</p>

<ol>
<li><p>Budeme udržiavať odhady vzdialeností od počiatočného uzla. Na začiatku sú všetky uzly nekonečne ďaleko (okrem počiatočného uzla, ten má vzdialenosť 0). Počas algoritmu budeme tieto odhady vylepšovať. Aby sme na konci algoritmu vedeli aj presnú postupnosť uzlov, ktorou sa vieme dostať do cieľového uzla, budeme si udržiavať pomocný zoznam, kde pre každý uzol bude uvedený jeho priamy predchodca vo výslednej najkratšej ceste.</p></li>

<li><p>V každom kroku vezmeme uzol, ktorý má najmenší odhad vzdialenosti <em>d</em> od počiatočného uzla, odoberieme ho z grafu a odložíme si ho do bočného zoznamu.</p></li>

<li><p>Prejdeme všetkých susedov uzla v grafe a vezmeme dĺžku hrany medzi nimi. Vzdialenosť <em>d</em> v skutočnosti znamená najlepšiu možnú cestu cez uzly v pomocnom zozname. Pre každého suseda sa pozrieme, či dĺžka hrany medzi ním a aktuálnym uzlom + vzdialenosť <em>d</em> je menšia než odhad počiatočnej vzdialenosti suseda. Ak áno, vieme vylepšiť odhad vzdialenosti u suseda o túto novú hodnotu. V tomto prípade tiež nastavíme susedovi predchodcu v ceste na aktuálny uzol.</p></li>

<li><p>Prejdime na krok 2.</p></li>
</ol>

<p>Bod 2 vyzerá na príklade nasledovne: ak máme tri uzly <em>A</em>, <em>B</em> a <em>C</em> kde odhady vzdialeností od počiatočného uzla sú 10 pre <em>A</em>, 10 pre <em>B</em> a 25 pre <em>C</em>, a vychádzame z uzla <em>A</em>, stane sa nasledovná vec:</p>

<ul>
<li>Odhad do uzla <em>A</em> je 10 + dĺžka hrany do <em>B</em> je 1, čo je spolu 11. Toto číslo je väčšie než dosiaľ získaná najkratšia možná cesta do <em>B</em> (10), čiže by sme si situáciu nezlepšili.</li>
<li>Pre druhého suseda máme 10 + dĺžku hranu do <em>C</em> = 13, čo je omnoho lepšie než doterajší odhad najkratšej cesty do C (25). Odhad najkratšej cesty do <em>C</em> teda vylepšíme.</li>
</ul>

<p><img src="relaxation.png" alt="" /></p>

<p>Ukážme si to na príklade slovenskej mapy.</p>

<h1 id="príklad">Príklad</h1>

<h2 id="iterácia-1-z-bratislavy">Iterácia 1: Z Bratislavy</h2>

<p><img src="dijkstra-krok1.png" alt="" /></p>

<p>Vychádzajme z Bratislavy. Na začiatku vyzerajú odhady hrán (prvý riadok) a predchodcov (druhý riadok) nasledovne:</p>

<table>
<thead>
<tr>
<th align="center">Bratislava</th>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">0</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Prejdime všetky hrany vychádzajúce z Bratislavy:</p>

<ul>
<li><strong>Bratislava-Trnava (5)</strong>. Pozrime sa, či minimálny odhad vzdialenosti do uzla Bratislava + vzdialenosť Bratislava-Trnava je menší, než minimálny odhad vzdialenosti do uzla Trnava. 0 + 5 = 5, to je ale menšie než nekonečno: vylepšíme teda odhad vzdialenosti do uzla Trnava a navyše nastavíme Bratislavu ako predchodcu Trnavy.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Bratislava</th>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">0</td>
<td align="center"><em>5</em></td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">-</td>
<td align="center"><em>Bratislava</em></td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<ul>
<li><strong>Bratislava-Nitra (9)</strong>. Pozrime sa, či minimálny odhad vzdialenosti do uzla Bratislava + vzdialenosť Bratislava-Nitra je menší,než minimálny odhad vzdialenosti do Nitry. Opäť 0 + 9 = 9, to je ale menšie než nekonečno: vylepšíme teda odhad vzdialenosti do Nitry a Nitre nastavíme Bratislavu ako predchodcu:</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Bratislava</th>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">0</td>
<td align="center">5</td>
<td align="center">0 + 9 = <strong>9</strong></td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">-</td>
<td align="center">Bratislava</td>
<td align="center"><em>Bratislava</em></td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<ul>
<li><strong>Bratislava-Banská Bystrica (22)</strong>. Pozrime sa, či minimálny odhad vzdialenosti do uzla Bratislava + vzdialenosť Bratislava-Banská Bystrica je menší, než minimálny odhad vzdialenosti do Bystrice. Opäť 0 + 22 = 22, to je ale menšie než nekonečno: vylepšíme teda odhad vzdialenosti do Bystrice spolu s nastavením predchodcu:</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Bratislava</th>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">0</td>
<td align="center">5</td>
<td align="center">9</td>
<td align="center">∞</td>
<td align="center">0 + 22 = <strong>22</strong></td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">-</td>
<td align="center">Bratislava</td>
<td align="center">Bratislava</td>
<td align="center">-</td>
<td align="center"><em>Bratislava</em></td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Uzol <strong>Bratislava</strong> je vybavený a môžeme ho z grafu vyhodiť — presnejšie povedané, odložíme si ho bokom, aby sme vedeli, že najkratšia cesta pôjde cez neho.</p>

<h2 id="iterácia-2-čo-sa-stalo-v-trnave-pri-bráne">Iterácia 2: Čo sa stalo v Trnave pri bráne</h2>

<p><img src="dijkstra-krok2.png" alt="" /></p>

<p>Pozrime sa do tabuľky odhadov, ktorý uzol má najmenšiu vzdialenosť: je ním <strong>Trnava</strong>. Hrany z neho vychádzajúce sú:</p>

<ul>
<li><strong>Trnava-Trenčín (8)</strong>. Ako vyzerá minimálny  odhad vzdialenosti do uzla Trnava + vzdialenosť Trnava-Trenčín? 5 + 8 =  13, to je ale menšie než odhad do Trenčína (nekonečno): vylepšíme ho teda a zároveň nastavíme Trenčínu predchodcu na Trnavu:</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">5</td>
<td align="center">9</td>
<td align="center">5+ 8 = <strong>13</strong></td>
<td align="center">22</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Bratislava</td>
<td align="center"><em>Trnava</em></td>
<td align="center">Bratislava</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<ul>
<li><strong>Trnava-Nitra (5)</strong>. Pozrime sa, či minimálny odhad vzdialenosti do uzla Trnava + vzdialenosť Trnava-Nitra je menší, než minimálny odhad vzdialenosti do Nitry. Opäť 5 + 5 = 10. To je však viac než aktuálny odhad do Nitry (9), čiže nebudeme ho vylepšovať.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Trnava</th>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">5</td>
<td align="center">9</td>
<td align="center">13</td>
<td align="center">22</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Bratislava</td>
<td align="center">Trnava</td>
<td align="center">Bratislava</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Trnavu sme teda vybavili a vyhodíme ju z grafu.</p>

<h2 id="iterácia-3-keď-som-išiel-cez-chrenovú">Iterácia 3: Keď som išiel cez Chrenovú</h2>

<p><img src="dijkstra-krok3.png" alt="" /></p>

<p>Ďalším kandidátom s najmenším odhadom je Nitra (odhad 9). Vychádza z nej len jediná hrana:</p>

<ul>
<li><strong>Nitra-Banská Bystrica (13)</strong>. Odhad do Nitry je 9 + vzdialenosť Nitra-Bystrica = 9 + 13 = 22, čo je to isté, než aktuálny odhad do Bystrice (22). Nemusíme ho teda vylepšovať:</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Nitra</th>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">9</td>
<td align="center">13</td>
<td align="center">22</td>
<td align="center">∞</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Trnava</td>
<td align="center">Bratislava</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Nitru sme vybavili a môžeme ju z grafu vyhodiť.</p>

<p>## Iterácia 4: Trenčianska kasáreň maľovaná</p>

<p><img src="dijkstra-krok4.png" alt="" /></p>

<p>Ak sa pozrieme do tabuľky vzdialeností, uvidíme najbližší Trenčín (odhad 13). I z neho vychádza len jediná hrana:</p>

<ul>
<li><strong>Trenčín-Žilina (8)</strong>. Odhad do Trenčína je 13  + vzdialenosť Trenčín-Žilina = 13 + 8 = 21, čo je menšie než aktuálny odhad do Žiliny (nekonečno), vylepšíme ho teda a nastavíme Žiline predchodcu na Trenčín.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Trenčín</th>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">13</td>
<td align="center">22</td>
<td align="center">13 + 8 = <strong>21</strong></td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Trnava</td>
<td align="center">Bratislava</td>
<td align="center"><em>Trenčín</em></td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Trenčín je teda vyriešený.</p>

<p>## Iterácia 5: Žilina</p>

<p><img src="dijkstra-krok5.png" alt="" /></p>

<p>Na rad prichádza Žilina s odhadom 21. Z nej idú dve hrany: do Prešova a do Banskej Bystrice.</p>

<ul>
<li><strong>Žilina-Banská Bystrica (9)</strong>. Odhad do Žiliny  je 21 + vzdialenosť Žilina-Banská Bystrica = 21 + 9 = 30. To však nie je lepšie než odhad do Bystrice (22), preto nemá zmysel ho vylepšovať.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">22</td>
<td align="center">21</td>
<td align="center">∞</td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Trenčín</td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<ul>
<li><strong>Žilina-Prešov (25)</strong>. Odhad do Žiliny je 21 + vzdialenosť Žilina-Prešov (25) dáva výsledok 46. To je stále lepšie než nekonečný odhad vzdialenosti do Prešova, preto nastane aktualizácia. Rovnako nastavíme Prešovu predchodcu na Žilinu.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Banská Bystrica</th>
<th align="center">Žilina</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">22</td>
<td align="center">21</td>
<td align="center">21 + 25 = <strong>46</strong></td>
<td align="center">∞</td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Trenčín</td>
<td align="center"><em>Žilina</em></td>
<td align="center">-</td>
</tr>
</tbody>
</table>

<p>Žilinu sme teda spracovali a vyhodíme ju z grafu.</p>

<h2 id="iterácia-6-nad-banskou-bystricí-je-noc">Iterácia 6: Nad Banskou Bystricí je noc</h2>

<p><img src="dijkstra-krok6.png" alt="" /></p>

<p>Nevybaveným uzlom s najkratším odhadom je teraz Banská Bystrica (odhad 22). Z nej ide len jedna hrana do Košíc.</p>

<ul>
<li><strong>Banská Bystrica-Košice (25)</strong>. Odhad do Bystrice je 22 + vzdialenosť Bystrica-Košice dáva 22 + 25 = 47. Je to však stále lepšie než nekonečný odhad vzdialenosti do Košíc. Vylepšíme teda odhad a nastavíme predchodcu Košíc na Banskú Bystricu:</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Banská Bystrica</th>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">22</td>
<td align="center">46</td>
<td align="center">22 + 25 = <strong>47</strong></td>
</tr>

<tr>
<td align="center">Bratislava</td>
<td align="center">Žilina</td>
<td align="center"><em>Banská Bystrica</em></td>
</tr>
</tbody>
</table>

<p>Banskú Bystricu teda môžeme vyhodiť z grafu.</p>

<h2 id="iterácia-7-a-od-prešova">Iterácia 7: A od Prešova</h2>

<p><img src="dijkstra-krok7.png" alt="" /></p>

<p>Po vyhodení Banskej Bystrice máme už len Prešov a Košice. Menší odhad na vzdialenosť má Prešov: 46 s jedinou hranou do Košíc.</p>

<ul>
<li><strong>Prešov-Košice (3)</strong>. Odhad do Prešova je 46 + vzdialenosť Prešov-Košice dáva 46 + 3 = 49. To však nie je lepšie než jestvujúci odhad do Košíc: 47, čiže ho nebudeme zhoršovať.</li>
</ul>

<table>
<thead>
<tr>
<th align="center">Prešov</th>
<th align="center">Košice</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">46</td>
<td align="center">47</td>
</tr>

<tr>
<td align="center">Žilina</td>
<td align="center">Banská Bystrica</td>
</tr>
</tbody>
</table>

<p>Prešov môžeme vyhodiť.</p>

<h2 id="iterácia-8-na-košickej-turni">Iterácia 8: Na košickej turni</h2>

<p><img src="dijkstra-krok8.png" alt="" /></p>

<p>Ostávajúcim kandidátom sú Košice. Z nich však už nejdú žiadne hrany, preto nebudeme aktualizovať vzdialenosti. Toto je zároveň posledná iterácia, keďže po odobratí Košíc je graf už prázdny.</p>

<h2 id="určenie-najkratšej-cesty">Určenie najkratšej cesty</h2>

<p>Najkratšiu cestu určíme jednoducho: pozrieme sa, v akom poradí sme vyhadzovali jednotlivé uzly. Rovnako sa pozrieme na predchodcov, ktoré mali tieto uzly nastavené v zozname v čase, keď boli vyhadzované:</p>

<ol>
<li><strong>Bratislava</strong>: -</li>
<li><strong>Trnava</strong>: Bratislava</li>
<li><strong>Nitra</strong>: Bratislava</li>
<li><strong>Trenčín</strong>: Trnava</li>
<li><strong>Žilina</strong>: Trenčín</li>
<li><strong>Banská Bystrica</strong>: Bratislava</li>
<li><strong>Prešov</strong>: Žilina</li>
<li><strong>Košice</strong>: Banská Bystrica</li>
</ol>

<p>Najkratšiu cestu nájdeme tak, že vyjdeme z koncového uzla a prechádzame spätne po predchodcov do počiatočného uzla, čiže: <strong>Košice→Banská Bystrica→Bratislava</strong>. Obrátené poradie nám dáva skutočne najkratšiu cestu.</p>

<h1 id="a-naozaj-to-funguje-správne">A naozaj to funguje správne?</h1>

<p>Dijkstrov algoritmus skutočne funguje správne (kto neverí, môže si naštudovať formálny dôkaz), pretože platia tieto základné fakty:</p>

<ul>
<li>Do každého uzla, ktorý odoberáme z grafu, vedie zaručene najkratšia možná cesta z počiatočného vrchola.</li>
<li>Odhady vzdialeností predstavujú vzdialenosť najkratšej možnej cesty, ktorá vedie z počiatočného uzla cez dosiaľ odobraté uzly do príslušného uzla.</li>
</ul>

<p>Vezmime si napríklad tretiu iteráciu: dosiaľ odobraté uzly sú Bratislava a Trnava. Trenčín má nastavený odhad 13, čo je naozaj najkratšia možná cesta cez Bratislavu a Trnavu</p>

<h1 id="implementácia-v-jave">Implementácia v Jave</h1>

<p>Implementácia v Jave sa bude opäť držať popisu algoritmu. Budeme predpokladať, že uzly grafu zodpovedajú reťazcom (samozrejme, mohli by sme používať aj komplexnú triedu <code>Node</code>, ale v tomto prípade to nie je až také nutné).</p>

<p>Odhady vzdialeností budeme udržiavať v mape z reťazcov (teda uzlov) do celých čísiel:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#289;font-weight:bold">private</span> <span style="color:#5ed;font-weight:bold">Map</span><span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">distances</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();</code></pre></div>
<p>Zoznam predchodcov bude tiež mapa z reťazcov do reťazcov (z uzlov do uzlov), kde ku každému uzlu budeme evidovať jeho predchodcu:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Map<span style="color:#333">&lt;</span>String, String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">predecessors</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();</code></pre></div>
<p>Na začiatku nastavíme vzdialenosti na nekonečno a vzdialenosť zo zdrojového uzla <code>sourceNode</code> do zdrojového uzla nastavíme na nulu:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#289;font-weight:bold">for</span> (String <span style="color:#5ed;font-weight:bold">node</span> <span style="color:#333">:</span> getNodes()) {
   distances.<span style="color:#007">put</span>(node, Integer.<span style="color:#007">MAX_VALUE</span>);
 }
 distances.<span style="color:#007">put</span>(sourceNode, 0);</code></pre></div>
<p>Zvyšok kódu zodpovedá algoritmu:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String <span style="color:#5ed;font-weight:bold">currentNode</span>;
<span style="color:#666;font-style:italic">// prechádzame uzly a stále hľadáme najbližší
</span><span style="color:#666;font-style:italic"></span><span style="color:#289;font-weight:bold">while</span>((currentNode <span style="color:#333">=</span> findNearestNode(distances)) <span style="color:#333">!=</span> <span style="color:#289;font-weight:bold">null</span>) {
    <span style="color:#289;font-weight:bold">for</span> (String <span style="color:#5ed;font-weight:bold">adjacentNode</span> <span style="color:#333">:</span> graph.<span style="color:#007">findAdjacentNodes</span>(currentNode)) {
        <span style="color:#666;font-style:italic">// urobíme nový odhad vzdialenosti
</span><span style="color:#666;font-style:italic"></span>        <span style="color:#66f;font-weight:bold">int</span> <span style="color:#5ed;font-weight:bold">possiblyBetterDistance</span> <span style="color:#333">=</span> distances.<span style="color:#007">get</span>(currentNode)
                <span style="color:#333">+</span> graph.<span style="color:#007">getWeight</span>(currentNode, adjacentNode);
        <span style="color:#666;font-style:italic">// ak je odhad vzdialenosti lepší, než vzdialenosť
</span><span style="color:#666;font-style:italic"></span>        <span style="color:#666;font-style:italic">// do suseda...
</span><span style="color:#666;font-style:italic"></span>        <span style="color:#289;font-weight:bold">if</span>(possiblyBetterDistance <span style="color:#333">&lt;</span> distances.<span style="color:#007">get</span>(adjacentNode)) {
            <span style="color:#666;font-style:italic">//.. vylepšíme ju
</span><span style="color:#666;font-style:italic"></span>            distances.<span style="color:#007">put</span>(adjacentNode, possiblyBetterDistance);
            <span style="color:#666;font-style:italic">//.. a nastavíme predchodcu
</span><span style="color:#666;font-style:italic"></span>            predecessors.<span style="color:#007">put</span>(adjacentNode, currentNode);
        }
    }
    <span style="color:#666;font-style:italic">// vyhodíme uzol z grafu ..
</span><span style="color:#666;font-style:italic"></span>    graph.<span style="color:#007">removeNode</span>(currentNode);
    <span style="color:#666;font-style:italic">// .. a zo zoznamu vzdialeností
</span><span style="color:#666;font-style:italic"></span>    distances.<span style="color:#007">remove</span>(currentNode);
}</code></pre></div>
<p>Mapu predchodcov <code>predecessors</code> prevedieme na peknú postupnosť nasledovne:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">path</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> ArrayList<span style="color:#333">&lt;&gt;</span>();
String <span style="color:#5ed;font-weight:bold">predecessor</span>;
String <span style="color:#5ed;font-weight:bold">node</span> <span style="color:#333">=</span> destinationNode;
path.<span style="color:#007">add</span>(destinationNode);
<span style="color:#289;font-weight:bold">while</span>((predecessor <span style="color:#333">=</span> predecessors.<span style="color:#007">get</span>(node)) <span style="color:#333">!=</span> <span style="color:#289;font-weight:bold">null</span>) {
    path.<span style="color:#007">add</span>(0, predecessor);
    node <span style="color:#333">=</span> predecessor;
}
<span style="color:#289;font-weight:bold">return</span> path;</code></pre></div>
<p>Všimnime si jednu peknú vlastnosť Dijkstrovho algoritmu: nájsť najlepšiu cestu do daného uzla je rovnako zložité ako nájsť cestu do akéhokoľvek iného uzla. Inak povedané, ak by sme chceli zistiť najkratšie cesty do všetkých vrcholov, nepotrebujeme meniť v algoritme takmer nič — jediná zmena je úprava prechodu zoznamu predchodcov na konci algoritmu.</p>

<h1 id="kompletná-implementácia-v-jave">Kompletná implementácia v Jave</h1>

<p>Urobme si základný interfejs pre graf:</p>

<pre><code>public interface Graph {
    void addEdge(String node1, String node2, int weight);

    void removeNode(String node);

    Set&lt;String&gt; getNodes();

    Set&lt;String&gt; findAdjacentNodes(String node);

    int getWeight(String node1, String node2);
}

</code></pre>

<p>Implementáciu nájdeme nižšie.</p>

<h2 id="implementácia-algoritmu">Implementácia algoritmu</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">class</span> Dijkstra {
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">List</span><span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">findShortestPath</span>(IncidenceMatrixGraph <span style="color:#5ed;font-weight:bold">graph</span>, String <span style="color:#5ed;font-weight:bold">sourceNode</span>, String <span style="color:#5ed;font-weight:bold">destinationNode</span>) {
        Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">distances</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();

        <span style="color:#289;font-weight:bold">for</span> (String <span style="color:#5ed;font-weight:bold">node</span> <span style="color:#333">:</span> graph.<span style="color:#007">getNodes</span>()) {
            distances.<span style="color:#007">put</span>(node, Integer.<span style="color:#007">MAX_VALUE</span>);
        }
        distances.<span style="color:#007">put</span>(sourceNode, 0);

        Map<span style="color:#333">&lt;</span>String, String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">predecessors</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();
        String <span style="color:#5ed;font-weight:bold">currentNode</span>;
        <span style="color:#666;font-style:italic">// prechádzame uzly a stále hľadáme najbližší
</span><span style="color:#666;font-style:italic"></span>        <span style="color:#289;font-weight:bold">while</span>((currentNode <span style="color:#333">=</span> findNearestNode(distances)) <span style="color:#333">!=</span> <span style="color:#289;font-weight:bold">null</span>) {
            <span style="color:#289;font-weight:bold">for</span> (String <span style="color:#5ed;font-weight:bold">adjacentNode</span> <span style="color:#333">:</span> graph.<span style="color:#007">findAdjacentNodes</span>(currentNode)) {
                <span style="color:#666;font-style:italic">// urobíme nový odhad vzdialenosti
</span><span style="color:#666;font-style:italic"></span>                <span style="color:#66f;font-weight:bold">int</span> <span style="color:#5ed;font-weight:bold">possiblyBetterDistance</span> <span style="color:#333">=</span> distances.<span style="color:#007">get</span>(currentNode)
                        <span style="color:#333">+</span> graph.<span style="color:#007">getWeight</span>(currentNode, adjacentNode);
                <span style="color:#666;font-style:italic">// ak je odhad vzdialenosti lepší, než vzdialenosť
</span><span style="color:#666;font-style:italic"></span>                <span style="color:#666;font-style:italic">// do suseda...
</span><span style="color:#666;font-style:italic"></span>                <span style="color:#289;font-weight:bold">if</span>(possiblyBetterDistance <span style="color:#333">&lt;</span> distances.<span style="color:#007">get</span>(adjacentNode)) {
                    <span style="color:#666;font-style:italic">//.. vylepšíme ju
</span><span style="color:#666;font-style:italic"></span>                    distances.<span style="color:#007">put</span>(adjacentNode, possiblyBetterDistance);
                    <span style="color:#666;font-style:italic">//.. a nastavíme predchodcu
</span><span style="color:#666;font-style:italic"></span>                    predecessors.<span style="color:#007">put</span>(adjacentNode, currentNode);
                }
            }
            <span style="color:#666;font-style:italic">// vyhodíme uzol z grafu ..
</span><span style="color:#666;font-style:italic"></span>            graph.<span style="color:#007">removeNode</span>(currentNode);
            <span style="color:#666;font-style:italic">// .. a zo zoznamu vzdialeností
</span><span style="color:#666;font-style:italic"></span>            distances.<span style="color:#007">remove</span>(currentNode);
        }
        <span style="color:#289;font-weight:bold">return</span> buildPath(destinationNode, predecessors);
    }

    <span style="color:#289;font-weight:bold">private</span> <span style="color:#5ed;font-weight:bold">List</span><span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">buildPath</span>(String <span style="color:#5ed;font-weight:bold">destinationNode</span>, Map<span style="color:#333">&lt;</span>String, String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">predecessors</span>) {
        List<span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">path</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> ArrayList<span style="color:#333">&lt;&gt;</span>();
        String <span style="color:#5ed;font-weight:bold">predecessor</span>;
        String <span style="color:#5ed;font-weight:bold">node</span> <span style="color:#333">=</span> destinationNode;
        path.<span style="color:#007">add</span>(destinationNode);
        <span style="color:#289;font-weight:bold">while</span>((predecessor <span style="color:#333">=</span> predecessors.<span style="color:#007">get</span>(node)) <span style="color:#333">!=</span> <span style="color:#289;font-weight:bold">null</span>) {
            path.<span style="color:#007">add</span>(0, predecessor);
            node <span style="color:#333">=</span> predecessor;
        }
        <span style="color:#289;font-weight:bold">return</span> path;
    }

    <span style="color:#289;font-weight:bold">private</span> <span style="color:#5ed;font-weight:bold">String</span> findNearestNode(Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">distances</span>) {
        <span style="color:#66f;font-weight:bold">int</span> <span style="color:#5ed;font-weight:bold">minimum</span> <span style="color:#333">=</span> Integer.<span style="color:#007">MAX_VALUE</span>;
        String <span style="color:#5ed;font-weight:bold">nearestNode</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">null</span>;
        <span style="color:#289;font-weight:bold">for</span> (Entry<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">entry</span> <span style="color:#333">:</span> distances.<span style="color:#007">entrySet</span>()) {
            <span style="color:#289;font-weight:bold">if</span>(entry.<span style="color:#007">getValue</span>() <span style="color:#333">&lt;</span> minimum) {
                minimum <span style="color:#333">=</span> entry.<span style="color:#007">getValue</span>();
                nearestNode <span style="color:#333">=</span> entry.<span style="color:#007">getKey</span>();
            }
        }
        <span style="color:#289;font-weight:bold">return</span> nearestNode;
    }
}</code></pre></div>
<h2 id="spustenie-kódu">Spustenie kódu</h2>

<pre><code>public static void main(String[] args) {
    IncidenceMatrixGraph g = new IncidenceMatrixGraph();
    g.addEdge(&quot;Bratislava&quot;, &quot;Trnava&quot;, 5);
    g.addEdge(&quot;Trnava&quot;, &quot;Nitra&quot;, 5);
    g.addEdge(&quot;Bratislava&quot;, &quot;Nitra&quot;, 9);
    g.addEdge(&quot;Trnava&quot;, &quot;Trenčín&quot;, 8);
    g.addEdge(&quot;Trenčín&quot;, &quot;Žilina&quot;, 8);
    g.addEdge(&quot;Žilina&quot;, &quot;Banská Bystrica&quot;, 9);
    g.addEdge(&quot;Žilina&quot;, &quot;Prešov&quot;, 25);
    g.addEdge(&quot;Nitra&quot;, &quot;Banská Bystrica&quot;, 13);
    g.addEdge(&quot;Prešov&quot;, &quot;Košice&quot;, 3);
    g.addEdge(&quot;Banská Bystrica&quot;, &quot;Košice&quot;, 25);
    g.addEdge(&quot;Bratislava&quot;, &quot;Banská Bystrica&quot;, 22);

    Dijkstra dijkstra = new Dijkstra();

    for (String entry : dijkstra.findShortestPath(g, &quot;Bratislava&quot;, &quot;Košice&quot;)) {
        System.out.println(entry);
    }
}
</code></pre>

<h2 id="implementácia-grafu">Implementácia grafu</h2>

<p>Graf sme implementovali cez maticu incidencií:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">class</span> IncidenceMatrixGraph <span style="color:#5ed;font-weight:bold">implements</span> Graph {
    <span style="color:#666;font-style:italic">/**
</span><span style="color:#666;font-style:italic">     * Matica incidencií
</span><span style="color:#666;font-style:italic">     */</span>
    <span style="color:#289;font-weight:bold">private</span> <span style="color:#5ed;font-weight:bold">Map</span><span style="color:#333">&lt;</span>String, Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;&gt;</span> <span style="color:#5ed;font-weight:bold">matrix</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();

    <span style="color:#289;font-weight:bold">private</span> <span style="color:#5ed;font-weight:bold">void</span> addNode(String <span style="color:#5ed;font-weight:bold">newNode</span>) {
        <span style="color:#666;font-style:italic">// na koniec kazdeho zoznamu prida mapovanie node-&gt;0
</span><span style="color:#666;font-style:italic"></span>        <span style="color:#289;font-weight:bold">for</span>(Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">row</span> <span style="color:#333">:</span> matrix.<span style="color:#007">values</span>()) {
            row.<span style="color:#007">put</span>(newNode, 0);
        }

        <span style="color:#666;font-style:italic">// prida novy zoznam dlzky pocetUzlov + 1 plny nul
</span><span style="color:#666;font-style:italic"></span>        Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">list</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashMap<span style="color:#333">&lt;&gt;</span>();
        <span style="color:#289;font-weight:bold">for</span>(String <span style="color:#5ed;font-weight:bold">n</span> <span style="color:#333">:</span> matrix.<span style="color:#007">keySet</span>()) {
            list.<span style="color:#007">put</span>(n, 0);
        }
        list.<span style="color:#007">put</span>(newNode, 0);

        matrix.<span style="color:#007">put</span>(newNode, list);
    }

    <span style="color:#555;font-weight:bold">@Override</span>
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">void</span> removeNode(String <span style="color:#5ed;font-weight:bold">node</span>) {
        matrix.<span style="color:#007">remove</span>(node);
        <span style="color:#289;font-weight:bold">for</span> (Map<span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">row</span> <span style="color:#333">:</span> matrix.<span style="color:#007">values</span>()) {
            row.<span style="color:#007">remove</span>(node);
        }
    }

    <span style="color:#555;font-weight:bold">@Override</span>
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">void</span> addEdge(String <span style="color:#5ed;font-weight:bold">node1</span>, String <span style="color:#5ed;font-weight:bold">node2</span>, <span style="color:#66f;font-weight:bold">int</span> <span style="color:#5ed;font-weight:bold">weight</span>) {
        <span style="color:#289;font-weight:bold">if</span>(<span style="color:#333">!</span>matrix.<span style="color:#007">containsKey</span>(node1)) {
            addNode(node1);
        }

        <span style="color:#289;font-weight:bold">if</span>(<span style="color:#333">!</span>matrix.<span style="color:#007">containsKey</span>(node2)) {
            addNode(node2);
        }

        matrix.<span style="color:#007">get</span>(node1).<span style="color:#007">put</span>(node2, weight);
        <span style="color:#666;font-style:italic">//  pre neorientovane hrany tiez
</span><span style="color:#666;font-style:italic"></span>        matrix.<span style="color:#007">get</span>(node2).<span style="color:#007">put</span>(node1, weight);
    }

    <span style="color:#555;font-weight:bold">@Override</span>
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">Set</span><span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">getNodes</span>() {
        <span style="color:#289;font-weight:bold">return</span> matrix.<span style="color:#007">keySet</span>();
    }

    <span style="color:#555;font-weight:bold">@Override</span>
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">int</span> getWeight(String <span style="color:#5ed;font-weight:bold">node1</span>, String <span style="color:#5ed;font-weight:bold">node2</span>) {
        <span style="color:#289;font-weight:bold">return</span> matrix.<span style="color:#007">get</span>(node1).<span style="color:#007">get</span>(node2);
    }

    <span style="color:#555;font-weight:bold">@Override</span>
    <span style="color:#289;font-weight:bold">public</span> <span style="color:#5ed;font-weight:bold">Set</span><span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">findAdjacentNodes</span>(String <span style="color:#5ed;font-weight:bold">node</span>) {
        Set<span style="color:#333">&lt;</span>String<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">adjacentNodes</span> <span style="color:#333">=</span> <span style="color:#289;font-weight:bold">new</span> HashSet<span style="color:#333">&lt;&gt;</span>();
        <span style="color:#289;font-weight:bold">for</span>(Map.<span style="color:#007">Entry</span><span style="color:#333">&lt;</span>String, Integer<span style="color:#333">&gt;</span> <span style="color:#5ed;font-weight:bold">entry</span> <span style="color:#333">:</span> matrix.<span style="color:#007">get</span>(node).<span style="color:#007">entrySet</span>()) {
            <span style="color:#289;font-weight:bold">if</span>(entry.<span style="color:#007">getValue</span>() <span style="color:#333">&gt;</span> 0) {
                adjacentNodes.<span style="color:#007">add</span>(entry.<span style="color:#007">getKey</span>());
            }
        }
        <span style="color:#289;font-weight:bold">return</span> adjacentNodes;
    }
}</code></pre></div>
<h1 id="odkazy">Odkazy</h1>

<ol>
<li>E. J. Dijkstra: A note on two problems in connexion with graphs. In Numerische Mathematik, 1 (1959), S. 269–271. <a href="http://www-m3.ma.tum.de/twiki/pub/MN0506/WebHome/dijkstra.pdf">http://www-m3.ma.tum.de/twiki/pub/MN0506/WebHome/dijkstra.pdf</a>, originálny jednostranový článok</li>
</ol>

</main>

    <footer>
      
<script>
(function() {
  function center_el(tagName) {
    var tags = document.getElementsByTagName(tagName), i, tag;
    for (i = 0; i < tags.length; i++) {
      tag = tags[i];
      var parent = tag.parentElement;
      
      if (parent.childNodes.length === 1) {
        
        if (parent.nodeName === 'A') {
          parent = parent.parentElement;
          if (parent.childNodes.length != 1) continue;
        }
        if (parent.nodeName === 'P') parent.style.textAlign = 'center';
      }
    }
  }
  var tagNames = ['img', 'embed', 'object'];
  for (var i = 0; i < tagNames.length; i++) {
    center_el(tagNames[i]);
  }
})();
</script>

      
    </footer>
  </body>
</html>

